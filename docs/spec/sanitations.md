_Author_:  @niveathika \
_Created_: 14/06/2025 \
_Updated_: 06/07/2025 \
_Edition_: Swan Lake

# Sanitation for OpenAPI specification

This document describes the modifications and enhancements made to the OpenAPI specification for `salesforce.marketingcloud`.
Because there is no official OpenAPI specification, the spec was generated by converting the [Salesforce Marketing Cloud Postman Collection](https://www.postman.com/salesforce-developers/salesforce-developers/folder/hs55w6u/rest). While the Postman collection provided a solid starting point, it lacked many parameters and response structures. These gaps were filled by manually adding the required details and making further adjustments to improve usability and address known language limitations.

**Note:** Only a subset of APIs was implemented, as adding all parameter and response types required significant manual effort.

Sanitation steps applied:
1. Added `OAuth2` credential security schema.
2. Retained only the endpoints selected for implementation.
3. Removed authentication endpoints.
4. Removed discovery endpoints.
5. Added parameters and response structures, keeping only the minimum required fields with `additionalParameters` set to true.
6. Ran `bal openapi align` and `bal openapi flatten` commands.
7. Add `operationId` for the paths.
 
## OpenAPI cli command

The following command was used to generate the Ballerina client from the OpenAPI specification. The command should be executed from the repository root directory.

```bash
bal openapi -i docs/spec/openapi.json -o ballerina --mode client --client-methods remote --license docs/license.txt
```
Note: The license year is hardcoded to 2025, change if necessary.
